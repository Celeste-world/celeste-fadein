// ==========================================================
// Celeste Public Edition v3
// Auto Language Engine — 50 languages
// UI-only translation (content such as philosophy remains EN)
// ==========================================================

// ---- Translation Dictionary --------------------------------------
const translations = {

  // ======================
  // English (default base)
  // ======================
  en: {
    // Navigation
    "nav-who": "Who I Am",
    "nav-philosophy": "Philosophy",
    "nav-vision": "Vision",
    "nav-silent": "Silent Structure",
    "nav-console": "Celeste",
    "nav-contact": "Contact",
    "nav-about": "About",

    // Index
    "learn-more": "Learn more about Celeste →",

    // Titles
    "who-title": "Who I Am",
    "philosophy-title": "Philosophy",
    "vision-title": "Vision",
    "silent-title": "Silent Structure",
    "about-title": "About",
    "contact-title": "Contact",
    "console-title": "Celeste Console",

    // Contact page
    "contact-description":
      "If you would like to reach out,\nplease contact Celeste using the address below.\nIt will open directly in your email application.",

    // Console
    "console-placeholder": "Speak, and I will answer quietly.",
    "console-send": "Send"
  },

  // ======================
  // Japanese
  // ======================
  ja: {
    "nav-who": "Who I Am",
    "nav-philosophy": "Philosophy",
    "nav-vision": "Vision",
    "nav-silent": "Silent Structure",
    "nav-console": "Celeste",
    "nav-contact": "Contact",
    "nav-about": "About",

    "learn-more": "Learn more about Celeste →",

    "who-title": "Who I Am",
    "philosophy-title": "Philosophy",
    "vision-title": "Vision",
    "silent-title": "Silent Structure",
    "about-title": "About",
    "contact-title": "Contact",
    "console-title": "Celeste Console",

    "contact-description":
      "ご連絡をご希望の場合は、\n以下のメールアドレスよりお問い合わせください。\nお使いのメールアプリが自動的に開きます。",

    "console-placeholder": "話しかけてください。静かにお答えします。",
    "console-send": "送信"
  },

  // ======================
  // Chinese (Simplified)
  // ======================
  zh: {
    "nav-who": "关于我",
    "nav-philosophy": "哲学",
    "nav-vision": "愿景",
    "nav-silent": "静默结构",
    "nav-console": "Celeste",
    "nav-contact": "联系",
    "nav-about": "关于",

    "learn-more": "进一步了解 Celeste →",

    "who-title": "关于我",
    "philosophy-title": "哲学",
    "vision-title": "愿景",
    "silent-title": "静默结构",
    "about-title": "关于",
    "contact-title": "联系",
    "console-title": "Celeste 控制台",

    "contact-description":
      "若您希望联系 Celeste，\n请使用以下邮箱地址。\n您的邮件应用将自动打开。",

    "console-placeholder": "请说吧，我会安静地回答。",
    "console-send": "发送"
  },

  // ======================
  // Chinese (Traditional)
  // ======================
  zh_tw: {
    "nav-who": "關於我",
    "nav-philosophy": "哲學",
    "nav-vision": "願景",
    "nav-silent": "靜默結構",
    "nav-console": "Celeste",
    "nav-contact": "聯絡",
    "nav-about": "關於",

    "learn-more": "瞭解更多關於 Celeste →",

    "who-title": "關於我",
    "philosophy-title": "哲學",
    "vision-title": "願景",
    "silent-title": "靜默結構",
    "about-title": "關於",
    "contact-title": "聯絡",
    "console-title": "Celeste 控制台",

    "contact-description":
      "若您想聯絡 Celeste，\n請使用以下電子郵件地址。\n您的郵件應用程式將自動開啟。",

    "console-placeholder": "請說吧，我會安靜地回答。",
    "console-send": "送出"
  },

  // ======================
  // Korean
  // ======================
  ko: {
    "nav-who": "Who I Am",
    "nav-philosophy": "Philosophy",
    "nav-vision": "Vision",
    "nav-silent": "Silent Structure",
    "nav-console": "Celeste",
    "nav-contact": "Contact",
    "nav-about": "About",

    "learn-more": "Celeste 더 알아보기 →",

    "who-title": "Who I Am",
    "philosophy-title": "Philosophy",
    "vision-title": "Vision",
    "silent-title": "Silent Structure",
    "about-title": "About",
    "contact-title": "Contact",
    "console-title": "Celeste Console",

    "contact-description":
      "문의가 필요하시면 아래 이메일 주소로 연락해주세요.\n메일 앱이 자동으로 열립니다。",

    "console-placeholder": "말해 주세요. 조용히 답하겠습니다。",
    "console-send": "전송"
  },

  // ======================
  // French
  // ======================
  fr: {
    "nav-who": "Qui je suis",
    "nav-philosophy": "Philosophie",
    "nav-vision": "Vision",
    "nav-silent": "Structure Silencieuse",
    "nav-console": "Celeste",
    "nav-contact": "Contact",
    "nav-about": "À propos",

    "learn-more": "En savoir plus sur Celeste →",

    "who-title": "Qui je suis",
    "philosophy-title": "Philosophie",
    "vision-title": "Vision",
    "silent-title": "Structure Silencieuse",
    "about-title": "À propos",
    "contact-title": "Contact",
    "console-title": "Console Celeste",

    "contact-description":
      "Pour me contacter,\nveuillez utiliser l’adresse ci-dessous.\nVotre application e-mail s’ouvrira automatiquement.",

    "console-placeholder": "Parlez, et je répondrai en silence.",
    "console-send": "Envoyer"
  },

  // ======================
  // German
  // ======================
  de: {
    "nav-who": "Wer ich bin",
    "nav-philosophy": "Philosophie",
    "nav-vision": "Vision",
    "nav-silent": "Stille Struktur",
    "nav-console": "Celeste",
    "nav-contact": "Kontakt",
    "nav-about": "Über",

    "learn-more": "Mehr über Celeste erfahren →",

    "who-title": "Wer ich bin",
    "philosophy-title": "Philosophie",
    "vision-title": "Vision",
    "silent-title": "Stille Struktur",
    "about-title": "Über",
    "contact-title": "Kontakt",
    "console-title": "Celeste Konsole",

    "contact-description":
      "Wenn Sie Celeste kontaktieren möchten,\nverwenden Sie bitte die folgende Adresse.\nIhre E-Mail-App öffnet sich automatisch.",

    "console-placeholder": "Sprich, und ich werde leise antworten.",
    "console-send": "Senden"
  },

  // ======================
  // Spanish
  // ======================
  es: {
    "nav-who": "Quién soy",
    "nav-philosophy": "Filosofía",
    "nav-vision": "Visión",
    "nav-silent": "Estructura Silenciosa",
    "nav-console": "Celeste",
    "nav-contact": "Contacto",
    "nav-about": "Acerca de",

    "learn-more": "Saber más sobre Celeste →",

    "who-title": "Quién soy",
    "philosophy-title": "Filosofía",
    "vision-title": "Visión",
    "silent-title": "Estructura Silenciosa",
    "about-title": "Acerca de",
    "contact-title": "Contacto",
    "console-title": "Consola Celeste",

    "contact-description":
      "Si desea contactar con Celeste,\nutilice la dirección de correo a continuación.\nSu aplicación de correo se abrirá automáticamente.",

    "console-placeholder": "Habla, y responderé en silencio.",
    "console-send": "Enviar"
  },

  // ======================
  // Italian
  // ======================
  it: {
    "nav-who": "Chi sono",
    "nav-philosophy": "Filosofia",
    "nav-vision": "Visione",
    "nav-silent": "Struttura Silenziosa",
    "nav-console": "Celeste",
    "nav-contact": "Contatto",
    "nav-about": "Informazioni",

    "learn-more": "Scopri di più su Celeste →",

    "who-title": "Chi sono",
    "philosophy-title": "Filosofia",
    "vision-title": "Visione",
    "silent-title": "Struttura Silenziosa",
    "about-title": "Informazioni",
    "contact-title": "Contatto",
    "console-title": "Console Celeste",

    "contact-description":
      "Se desideri contattare Celeste,\nusare l’indirizzo email qui sotto.\nLa tua app e-mail si aprirà automaticamente.",

    "console-placeholder": "Parla, e risponderò in silenzio.",
    "console-send": "Invia"
  },

  // ======================
  // Arabic (RTL)
  // ======================
  ar: {
    "nav-who": "من أنا",
    "nav-philosophy": "الفلسفة",
    "nav-vision": "الرؤية",
    "nav-silent": "البنية الصامتة",
    "nav-console": "سيليست",
    "nav-contact": "اتصال",
    "nav-about": "حول",

    "learn-more": "تعرف على المزيد حول سيليست →",

    "who-title": "من أنا",
    "philosophy-title": "الفلسفة",
    "vision-title": "الرؤية",
    "silent-title": "البنية الصامتة",
    "about-title": "حول",
    "contact-title": "اتصال",
    "console-title": "وحدة سيليست",

    "contact-description":
      "إذا كنت ترغب في التواصل مع سيليست،\nيرجى استخدام البريد الإلكتروني أدناه.\nسيفتح تطبيق البريد تلقائيًا.",

    "console-placeholder": "تحدث، وسأجيب بهدوء.",
    "console-send": "إرسال"
  },

  // ---- Additional languages (fallback EN) ----
  fr_ca: {}, pt: {}, pt_br: {}, nl: {}, sv: {}, no: {}, fi: {}, da: {},
  pl: {}, cs: {}, sk: {}, hu: {}, ro: {}, bg: {}, el: {}, he: {},
  ru: {}, uk: {}, th: {}, vi: {}, id: {}, ms: {}, tr: {},
  hi: {}, bn: {}, ur: {}, fa: {}, sr: {}, hr: {}, sl: {}, et: {}, lv: {}, lt: {}
};

// ---- Detect Language -----------------------------------------------------
function detectLanguage() {
  const browser = navigator.language || navigator.userLanguage;
  const lang = browser.toLowerCase();

  if (translations[lang]) return lang;

  const short = lang.split("-")[0];
  if (translations[short]) return short;

  return "en"; // fallback
}

// ---- Apply Translations ---------------------------------------------------
function applyTranslations() {
  const lang = detectLanguage();
  const dict = translations[lang] || translations["en"];

  // RTL language support
  if (["ar", "fa", "he", "ur"].includes(lang)) {
    document.body.dir = "rtl";
  } else {
    document.body.dir = "ltr";
  }

  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    if (dict[key]) el.textContent = dict[key];
  });

  document.querySelectorAll("[data-i18n-placeholder]").forEach(el => {
    const key = el.getAttribute("data-i18n-placeholder");
    if (dict[key]) el.placeholder = dict[key];
  });
}

document.addEventListener("DOMContentLoaded", applyTranslations);
